(this["webpackJsonplogin-auth"]=this["webpackJsonplogin-auth"]||[]).push([[0],{23:function(e,a,t){},33:function(e,a,t){e.exports=t(59)},38:function(e,a,t){},40:function(e,a,t){},46:function(e,a,t){},51:function(e,a,t){},52:function(e,a,t){},53:function(e,a,t){},54:function(e,a,t){},55:function(e,a,t){},56:function(e,a,t){},57:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(30),s=t.n(c),o=t(5),i=(t(38),t(3)),l=t.n(i),m=t(18),u=t(6),d=t(11),h=t(12),p=t(19),g=t(13),f=t(14),v=t(8),E=(t(40),t(9)),b=t.n(E),N=(t(41),t(44),function(){var e=Object(u.a)(l.a.mark((function e(a,t){var n,r,c,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=w.doc("users/".concat(a.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=17;break}return r=a.displayName,c=a.email,s=a.photoURL,o=new Date,e.prev=9,e.next=12,n.set(Object(m.a)({displayName:r,email:c,createdAt:o,photoURL:s},t));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("Error creating user,",e.t0.message);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(a,t){return e.apply(this,arguments)}}());b.a.initializeApp({apiKey:"AIzaSyDAqn0iAl8Px9xO7NuBUrNJ4EJ9Bcukr78",authDomain:"login-auth-git.firebaseapp.com",databaseURL:"https://login-auth-git.firebaseio.com",projectId:"login-auth-git",storageBucket:"login-auth-git.appspot.com",messagingSenderId:"822924112792",appId:"1:822924112792:web:090f5284ccb158445ab1ed",measurementId:"G-SXDTCF401J"});var y=b.a.auth(),w=b.a.firestore(),k=new b.a.auth.GoogleAuthProvider,C=new b.a.auth.FacebookAuthProvider;k.setCustomParameters({prompt:"select_account"}),C.setCustomParameters({display:"popup"});var O=function(){return y.signInWithPopup(k)},j=function(){return y.signInWithPopup(C)},x=(b.a,t(7)),S=t.n(x),L=(t(23),t(46),function(e){var a=e.displayName,t=e.photoURL;return r.a.createElement("div",{className:"my-form"},r.a.createElement("div",{className:"column"},r.a.createElement("img",{src:t||S.a,className:"image current-user-image",alt:"current user"}),r.a.createElement("h2",{className:"ui teal image header"},r.a.createElement("div",{className:"content"},"Hello, ",a)),r.a.createElement("div",{className:"ui message"},r.a.createElement("p",null,"Thanks for signing in,"),r.a.createElement("p",null,"more info coming soon."),r.a.createElement(o.b,{to:"/",onClick:function(){return y.signOut()}},"sign out"))))}),P=t(10),T=t(20),A=(t(51),function(e){var a=e.handleChange,t=e.icon,n=Object(T.a)(e,["handleChange","icon"]);return r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:t}),r.a.createElement("input",Object.assign({onChange:a},n))))}),I=(t(52),t(53),function(e){var a=e.children,t=(e.color,e.control),n=Object(T.a)(e,["children","color","control"]);return r.a.createElement("button",Object.assign({},n,{className:"".concat(t," customButton")}),r.a.createElement("span",null,a))}),U=function(e){Object(f.a)(t,e);var a=Object(g.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).handleChange=function(e){var a=e.target,t=a.name,r=a.value;n.setState(Object(P.a)({},t,r))},n.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(a){var t,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t=n.state,r=t.email,c=t.password,e.prev=2,e.next=5,y.signInWithEmailAndPassword(r,c);case 5:n.props.setToLoading(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(a){return e.apply(this,arguments)}}(),n.state={email:"",password:""},n}return Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"my-form"},r.a.createElement("div",{className:"column"},r.a.createElement("h2",{className:"ui teal image header"},r.a.createElement("img",{src:S.a,className:"image",alt:"coding logo"}),r.a.createElement("div",{className:"content"},"Log-in to your account")),r.a.createElement("form",{className:"ui large form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"ui stacked segment"},r.a.createElement(A,{icon:"user icon",name:"email",type:"email",placeholder:"E-mail address",value:this.state.email,handleChange:this.handleChange,required:!0}),r.a.createElement(A,{icon:"lock icon",name:"password",type:"password",placeholder:"Password",value:this.state.password,handleChange:this.handleChange,required:!0}),r.a.createElement("div",{className:"sign-in-buttons"},r.a.createElement(I,{type:"submit",control:"primary"},r.a.createElement("i",{className:"address book outline icon"})," Sign In With Email"),r.a.createElement(I,{type:"button",control:"google",onClick:O},r.a.createElement("i",{className:"google plus icon"})," Sign In With Google"),r.a.createElement(I,{type:"button",control:"facebook",onClick:j},r.a.createElement("i",{className:"facebook icon"})," Sign In With Facebook"))),r.a.createElement("div",{className:"ui error message"})),r.a.createElement("div",{className:"ui message"},"New to us? Sign up with ",r.a.createElement(o.b,{to:"/sign-up"},"email."))))}}]),t}(r.a.Component),W=(t(54),function(e){var a=e.setToLoading;return r.a.createElement(U,{setToLoading:a})}),q=(t(55),function(e){Object(f.a)(t,e);var a=Object(g.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).handleChange=function(e){var a=e.target,t=a.name,r=a.value;n.setState(Object(P.a)({},t,r))},n.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(a){var t,r,c,s,o,i,m,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=n.state,r=t.firstName,c=t.lastName,s=t.email,o=t.password,i=t.confirmPassword,m="".concat(r," ").concat(c),o===i){e.next=6;break}return alert("Passwords do not match."),e.abrupt("return");case 6:return e.prev=6,e.next=9,y.createUserWithEmailAndPassword(s,o);case 9:return u=e.sent,d=u.user,e.next=13,N(d,{displayName:m});case 13:n.props.setToLoading(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),alert(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(a){return e.apply(this,arguments)}}(),n.handleCancel=function(){n.setState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""})},n.state={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},n}return Object(h.a)(t,[{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"my-form"},r.a.createElement("div",{className:"column"},r.a.createElement("h2",{className:"ui teal image header"},r.a.createElement("img",{src:S.a,className:"image",alt:"coding logo"}),r.a.createElement("div",{className:"content"},"Create your account")),r.a.createElement("form",{className:"ui large form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"ui stacked segment"},r.a.createElement(A,{icon:"user icon",name:"firstName",type:"text",placeholder:"First Name",value:this.state.firstName,handleChange:this.handleChange,required:!0}),r.a.createElement(A,{icon:"user icon",name:"lastName",type:"text",placeholder:"Last Name",value:this.state.lastName,handleChange:this.handleChange,required:!0}),r.a.createElement(A,{icon:"user icon",name:"email",type:"email",placeholder:"Email",value:this.state.email,handleChange:this.handleChange,required:!0}),r.a.createElement(A,{icon:"lock icon",name:"password",type:"password",placeholder:"Password",value:this.state.password,handleChange:this.handleChange,required:!0}),r.a.createElement(A,{icon:"lock icon",name:"confirmPassword",type:"password",placeholder:"Confirm Password",value:this.state.confirmPassword,handleChange:this.handleChange,required:!0}),r.a.createElement("span",{className:"buttons"},r.a.createElement(I,{type:"submit",control:"primary"},"Create"),r.a.createElement(I,{type:"button",control:"secondary",onClick:this.handleCancel},"Cancel"))),r.a.createElement("div",{className:"ui error message"})),r.a.createElement("div",{className:"ui message"},"Already have an account? ",r.a.createElement(o.b,{to:"/sign-in"},"Sign In"))))}}]),t}(r.a.Component)),D=(t(56),function(e){var a=e.setToLoading;return r.a.createElement(q,{setToLoading:a})}),F=(t(57),function(){return r.a.createElement("div",null,r.a.createElement("p",null,"This page does not exist."))}),R=(t(58),function(){return r.a.createElement("div",{className:"my-form"},r.a.createElement("div",{className:"column"},r.a.createElement("h2",{className:"ui teal image header"},r.a.createElement("img",{src:S.a,className:"image",alt:"coding logo"}),r.a.createElement("div",{className:"content"},"Loading..."))))}),B=function(e){Object(f.a)(t,e);var a=Object(g.a)(t);function t(){var e;return Object(d.a)(this,t),(e=a.call(this)).unsubscribeFromAuth=null,e.state={loading:!0},e.setToLoading=e.setToLoading.bind(Object(p.a)(e)),e}return Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeFromAuth=y.onAuthStateChanged(function(){var a=Object(u.a)(l.a.mark((function a(t){var n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=5;break}return n=N(t),a.next=4,n;case 4:a.sent.onSnapshot((function(a){e.setState({currentUser:Object(m.a)({id:a.id},a.data())})}));case 5:e.setState({currentUser:t}),setTimeout((function(){return e.setState({loading:!1})}),200);case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"setToLoading",value:function(){var e=this;this.setState({loading:!0},(function(){return console.log(e.state)}))}},{key:"render",value:function(){var e=this,a=this.state.currentUser;return r.a.createElement("div",{className:"App"},this.state.loading?r.a.createElement(R,null):r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/",render:function(e){var t=e.location;return a?r.a.createElement(L,{displayName:a.displayName,photoURL:a.photoURL}):r.a.createElement(v.a,{to:{pathname:"/sign-in",state:{from:t}}})}}),r.a.createElement(v.b,{path:"/sign-in",render:function(t){var n=t.location;return a?r.a.createElement(v.a,{to:{pathname:"/",state:{from:n}}}):r.a.createElement(W,{setToLoading:e.setToLoading})}}),r.a.createElement(v.b,{path:"/sign-up",render:function(t){var n=t.location;return a?r.a.createElement(v.a,{to:{pathname:"/",state:{from:n}}}):r.a.createElement(D,{setToLoading:e.setToLoading})}}),r.a.createElement(v.b,{component:F})))}}]),t}(r.a.Component);s.a.render(r.a.createElement(o.a,{basename:"/"},r.a.createElement(B,null)),document.getElementById("root"))},7:function(e,a,t){e.exports=t.p+"static/media/logo.bb33c1bf.svg"}},[[33,1,2]]]);
//# sourceMappingURL=main.6261ea22.chunk.js.map